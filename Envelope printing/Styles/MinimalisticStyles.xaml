<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
 <!-- Light theme brushes -->
 <SolidColorBrush x:Key="AppBackground" Color="#F5F6FA"/>
 <SolidColorBrush x:Key="SurfaceBrush" Color="#FFFFFF"/>
 <SolidColorBrush x:Key="SurfaceAltBrush" Color="#F2F3F6"/>
 <SolidColorBrush x:Key="OverlayBackgroundBrush" Color="#FAFBFD"/>
 <SolidColorBrush x:Key="OverlayBorderBrush" Color="#E1E4E8"/>
 <SolidColorBrush x:Key="FieldBackgroundBrush" Color="#FFFFFF"/>
 <SolidColorBrush x:Key="FieldBorderBrush" Color="#D0D6DE"/>
 <SolidColorBrush x:Key="TextPrimaryBrush" Color="#1F2328"/>
 <SolidColorBrush x:Key="AccentBrush" Color="#0F6CBD"/>
 <SolidColorBrush x:Key="AccentHoverBrush" Color="#2288D6"/>
 <SolidColorBrush x:Key="SelectionBrush" Color="#0F6CBD"/>
 <SolidColorBrush x:Key="ButtonHoverBrush" Color="#F3F4F7"/>
 <SolidColorBrush x:Key="ButtonPressedBrush" Color="#E9EBF0"/>
 <SolidColorBrush x:Key="ButtonHoverBorderBrush" Color="#D0D6DE"/>
 <SolidColorBrush x:Key="ButtonPressedBorderBrush" Color="#B8BEC5"/>
 <!-- Softer hover for list items -->
 <SolidColorBrush x:Key="ComboItemHoverBrush" Color="#F0F2F5"/>

 <!-- ScrollBar brushes (light theme) -->
 <SolidColorBrush x:Key="ScrollBarTrackBrush" Color="#E4E7EB"/>
 <SolidColorBrush x:Key="ScrollBarThumbBrush" Color="#C4CBD3"/>
 <SolidColorBrush x:Key="ScrollBarThumbHoverBrush" Color="#B2BBC5"/>
 <SolidColorBrush x:Key="ScrollBarThumbPressedBrush" Color="#97A1AD"/>

 <!-- Windows 11 style ScrollBar (light theme) -->
 <SolidColorBrush x:Key="Win11.ScrollBar.Track" Color="#00000000"/>
 <SolidColorBrush x:Key="Win11.ScrollBar.TrackHover" Color="#11000000"/>
 <SolidColorBrush x:Key="Win11.ScrollBar.Thumb" Color="#A9B2BC"/>
 <SolidColorBrush x:Key="Win11.ScrollBar.ThumbHover" Color="#939DA7"/>
 <SolidColorBrush x:Key="Win11.ScrollBar.ThumbPressed" Color="#6D7680"/>

 <Style x:Key="AppScrollBar" TargetType="ScrollBar">
  <Setter Property="Background" Value="{DynamicResource Win11.ScrollBar.Track}"/>
  <Setter Property="Foreground" Value="{DynamicResource Win11.ScrollBar.Thumb}"/>
  <Setter Property="Width" Value="8"/>
  <Setter Property="MinHeight" Value="8"/>
  <Setter Property="Template">
   <Setter.Value>
    <ControlTemplate TargetType="ScrollBar">
     <Grid x:Name="Root" Background="{TemplateBinding Background}" SnapsToDevicePixels="True">
      <Border x:Name="TrackBg" Background="{TemplateBinding Background}" CornerRadius="4"/>
      <!-- IMPORTANT: single Track with x:Name=PART_Track required for dragging to work -->
      <Track x:Name="PART_Track" Orientation="{TemplateBinding Orientation}" IsDirectionReversed="True">
       <Track.DecreaseRepeatButton>
        <RepeatButton Command="ScrollBar.LineUpCommand" Visibility="Collapsed"/>
       </Track.DecreaseRepeatButton>
       <Track.IncreaseRepeatButton>
        <RepeatButton Command="ScrollBar.LineDownCommand" Visibility="Collapsed"/>
       </Track.IncreaseRepeatButton>
       <Track.Thumb>
        <Thumb Margin="1" Background="{DynamicResource Win11.ScrollBar.Thumb}" BorderBrush="Transparent" BorderThickness="0">
         <Thumb.Template>
          <ControlTemplate TargetType="Thumb">
           <Border x:Name="ThumbRoot" Background="{TemplateBinding Background}" CornerRadius="4"/>
           <ControlTemplate.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
             <Setter TargetName="ThumbRoot" Property="Background" Value="{DynamicResource Win11.ScrollBar.ThumbHover}"/>
            </Trigger>
            <Trigger Property="IsDragging" Value="True">
             <Setter TargetName="ThumbRoot" Property="Background" Value="{DynamicResource Win11.ScrollBar.ThumbPressed}"/>
            </Trigger>
            <Trigger Property="IsEnabled" Value="False">
             <Setter TargetName="ThumbRoot" Property="Opacity" Value="0.35"/>
            </Trigger>
           </ControlTemplate.Triggers>
          </ControlTemplate>
         </Thumb.Template>
        </Thumb>
       </Track.Thumb>
      </Track>
     </Grid>
     <ControlTemplate.Triggers>
      <Trigger Property="Orientation" Value="Horizontal">
       <!-- Horizontal scrollbar specifics -->
       <Setter Property="Height" Value="8"/>
       <Setter Property="Width" Value="Auto"/>
       <Setter TargetName="PART_Track" Property="IsDirectionReversed" Value="False"/>
      </Trigger>
      <Trigger Property="IsMouseOver" Value="True">
       <Setter TargetName="TrackBg" Property="Background" Value="{DynamicResource Win11.ScrollBar.TrackHover}"/>
      </Trigger>
      <Trigger Property="IsEnabled" Value="False">
       <Setter TargetName="Root" Property="Opacity" Value="0.35"/>
      </Trigger>
     </ControlTemplate.Triggers>
    </ControlTemplate>
   </Setter.Value>
  </Setter>
 </Style>
 <Style TargetType="ScrollBar" BasedOn="{StaticResource AppScrollBar}"/>

 <!-- Text -->
 <Style TargetType="TextBlock"><Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}"/></Style>
 <Style x:Key="HeaderTextBlock" TargetType="TextBlock" BasedOn="{StaticResource {x:Type TextBlock}}"><Setter Property="FontSize" Value="18"/><Setter Property="FontWeight" Value="SemiBold"/><Setter Property="Margin" Value="0,0,0,8"/></Style>
 <Style x:Key="SectionHeader" TargetType="TextBlock" BasedOn="{StaticResource {x:Type TextBlock}}"><Setter Property="FontSize" Value="15"/><Setter Property="FontWeight" Value="SemiBold"/><Setter Property="Margin" Value="0,16,0,6"/></Style>
 <Style x:Key="SubheaderTextBlock" TargetType="TextBlock" BasedOn="{StaticResource {x:Type TextBlock}}"><Setter Property="FontSize" Value="13"/><Setter Property="FontWeight" Value="SemiBold"/><Setter Property="Margin" Value="0,8,0,4"/><Setter Property="Opacity" Value="0.85"/></Style>
 <Style x:Key="FormLabelText" TargetType="TextBlock" BasedOn="{StaticResource {x:Type TextBlock}}"><Setter Property="FontSize" Value="12"/><Setter Property="Margin" Value="0,2,8,2"/><Setter Property="VerticalAlignment" Value="Center"/><Setter Property="Opacity" Value="0.85"/></Style>

 <!-- Panels -->
 <Style x:Key="PanelBorder" TargetType="Border"><Setter Property="Background" Value="{DynamicResource SurfaceBrush}"/><Setter Property="BorderBrush" Value="{DynamicResource OverlayBorderBrush}"/><Setter Property="BorderThickness" Value="1"/><Setter Property="CornerRadius" Value="6"/></Style>
 <Style x:Key="PanelBorder.Secondary" TargetType="Border" BasedOn="{StaticResource PanelBorder}"><Setter Property="Background" Value="{DynamicResource SurfaceAltBrush}"/></Style>
 <Style x:Key="OverlayPanelBorder" TargetType="Border"><Setter Property="Background" Value="{DynamicResource OverlayBackgroundBrush}"/><Setter Property="BorderBrush" Value="{DynamicResource OverlayBorderBrush}"/><Setter Property="BorderThickness" Value="1"/><Setter Property="CornerRadius" Value="8"/></Style>
 <Style x:Key="InfoBanner" TargetType="Border"><Setter Property="Background" Value="#FFF7DF"/><Setter Property="BorderBrush" Value="#E1C26C"/><Setter Property="BorderThickness" Value="1"/><Setter Property="CornerRadius" Value="6"/><Setter Property="Padding" Value="8"/><Setter Property="Margin" Value="0,6,0,8"/></Style>
 <Style x:Key="LabeledRowGrid" TargetType="Grid"><Setter Property="Margin" Value="6,2,6,6"/></Style>
 <Style x:Key="SearchToolbarBorder" TargetType="Border" BasedOn="{StaticResource PanelBorder}"><Setter Property="Padding" Value="6"/><Setter Property="CornerRadius" Value="4"/><Setter Property="Background" Value="{DynamicResource SurfaceAltBrush}"/></Style>

 <!-- Base unified button style -->
 <Style x:Key="BaseButtonStyle" TargetType="Button">
 <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}"/>
 <Setter Property="Background" Value="{DynamicResource SurfaceAltBrush}"/>
 <Setter Property="BorderBrush" Value="{DynamicResource FieldBorderBrush}"/>
 <Setter Property="BorderThickness" Value="1"/>
 <Setter Property="Padding" Value="12,8"/>
 <Setter Property="MinHeight" Value="34"/>
 <Setter Property="HorizontalContentAlignment" Value="Center"/>
 <Setter Property="VerticalContentAlignment" Value="Center"/>
 <Setter Property="Template">
 <Setter.Value>
 <ControlTemplate TargetType="Button">
 <Border x:Name="bd" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="6">
 <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
 </Border>
 <ControlTemplate.Triggers>
 <Trigger Property="IsMouseOver" Value="True"><Setter TargetName="bd" Property="BorderBrush" Value="{DynamicResource AccentHoverBrush}"/></Trigger>
 <Trigger Property="IsPressed" Value="True"><Setter TargetName="bd" Property="BorderBrush" Value="{DynamicResource AccentBrush}"/><Setter TargetName="bd" Property="Background" Value="{DynamicResource ButtonPressedBrush}"/></Trigger>
 <Trigger Property="IsEnabled" Value="False"><Setter TargetName="bd" Property="Opacity" Value="0.55"/></Trigger>
 </ControlTemplate.Triggers>
 </ControlTemplate>
 </Setter.Value>
 </Setter>
 </Style>
 <Style TargetType="Button" BasedOn="{StaticResource BaseButtonStyle}"/>
 <Style x:Key="ActionButtonStyle" TargetType="Button" BasedOn="{StaticResource BaseButtonStyle}"><Setter Property="MinWidth" Value="110"/></Style>
 <Style x:Key="SmallSquareButtonStyle" TargetType="Button" BasedOn="{StaticResource BaseButtonStyle}"><Setter Property="MinWidth" Value="34"/><Setter Property="Width" Value="34"/><Setter Property="Padding" Value="0"/></Style>
 <Style x:Key="FileButtonStyle" TargetType="Button" BasedOn="{StaticResource BaseButtonStyle}"><Setter Property="MinWidth" Value="44"/><Setter Property="Padding" Value="10,4"/></Style>

 <!-- Navigation -->
 <Style x:Key="NavButtonStyle" TargetType="{x:Type ButtonBase}"><Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}"/><Setter Property="Background" Value="Transparent"/><Setter Property="BorderBrush" Value="Transparent"/><Setter Property="BorderThickness" Value="0"/><Setter Property="Padding" Value="0"/><Setter Property="HorizontalContentAlignment" Value="Stretch"/><Setter Property="Template"><Setter.Value><ControlTemplate TargetType="{x:Type ButtonBase}"><Border x:Name="root" Background="{TemplateBinding Background}" CornerRadius="4"><ContentPresenter HorizontalAlignment="Stretch" VerticalAlignment="Center"/></Border><ControlTemplate.Triggers><Trigger Property="IsMouseOver" Value="True"><Setter TargetName="root" Property="Background" Value="{DynamicResource ButtonHoverBrush}"/></Trigger><Trigger Property="IsPressed" Value="True"><Setter TargetName="root" Property="Background" Value="{DynamicResource ButtonPressedBrush}"/></Trigger><Trigger Property="IsEnabled" Value="False"><Setter TargetName="root" Property="Opacity" Value="0.55"/></Trigger></ControlTemplate.Triggers></ControlTemplate></Setter.Value></Setter></Style>
 <Style x:Key="HomeNavButtonStyle" TargetType="Button" BasedOn="{StaticResource NavButtonStyle}"><Style.Triggers><DataTrigger Binding="{Binding DataContext.CurrentSection, RelativeSource={RelativeSource AncestorType=Window}}" Value="Home"><Setter Property="Background" Value="{DynamicResource ButtonPressedBrush}"/></DataTrigger></Style.Triggers></Style>
 <Style x:Key="PrintNavButtonStyle" TargetType="Button" BasedOn="{StaticResource NavButtonStyle}"><Style.Triggers><DataTrigger Binding="{Binding DataContext.CurrentSection, RelativeSource={RelativeSource AncestorType=Window}}" Value="Print"><Setter Property="Background" Value="{DynamicResource ButtonPressedBrush}"/></DataTrigger></Style.Triggers></Style>
 <Style x:Key="RecipientsNavButtonStyle" TargetType="Button" BasedOn="{StaticResource NavButtonStyle}"><Style.Triggers><DataTrigger Binding="{Binding DataContext.CurrentSection, RelativeSource={RelativeSource AncestorType=Window}}" Value="Recipients"><Setter Property="Background" Value="{DynamicResource ButtonPressedBrush}"/></DataTrigger></Style.Triggers></Style>
 <Style x:Key="DesignerNavButtonStyle" TargetType="Button" BasedOn="{StaticResource NavButtonStyle}"><Style.Triggers><DataTrigger Binding="{Binding DataContext.CurrentSection, RelativeSource={RelativeSource AncestorType=Window}}" Value="Designer"><Setter Property="Background" Value="{DynamicResource ButtonPressedBrush}"/></DataTrigger></Style.Triggers></Style>
 <Style x:Key="SettingsNavButtonStyle" TargetType="Button" BasedOn="{StaticResource NavButtonStyle}"><Style.Triggers><DataTrigger Binding="{Binding DataContext.CurrentSection, RelativeSource={RelativeSource AncestorType=Window}}" Value="Settings"><Setter Property="Background" Value="{DynamicResource ButtonPressedBrush}"/></DataTrigger></Style.Triggers></Style>
 <Style x:Key="NavToggleButtonStyle" TargetType="ToggleButton" BasedOn="{StaticResource NavButtonStyle}"/>
 <Style x:Key="NavButtonTextStyle" TargetType="TextBlock" BasedOn="{StaticResource {x:Type TextBlock}}"><Setter Property="VerticalAlignment" Value="Center"/><Setter Property="Margin" Value="0"/><Setter Property="FontSize" Value="14"/><Setter Property="FontWeight" Value="SemiBold"/></Style>

 <!-- Form inputs -->
 <Style x:Key="FormTextBox" TargetType="TextBox">
 <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}"/>
 <Setter Property="Background" Value="{DynamicResource FieldBackgroundBrush}"/>
 <Setter Property="BorderBrush" Value="{DynamicResource FieldBorderBrush}"/>
 <Setter Property="BorderThickness" Value="1"/>
 <Setter Property="Padding" Value="6,4"/>
 <Setter Property="MinHeight" Value="34"/>
 <Setter Property="VerticalContentAlignment" Value="Center"/>
 <Setter Property="Template">
 <Setter.Value>
 <ControlTemplate TargetType="TextBox">
 <Border x:Name="bd" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="4" SnapsToDevicePixels="True">
 <ScrollViewer x:Name="PART_ContentHost"/>
 </Border>
 <ControlTemplate.Triggers>
 <Trigger Property="IsKeyboardFocused" Value="True"><Setter TargetName="bd" Property="BorderBrush" Value="{DynamicResource AccentBrush}"/></Trigger>
 <Trigger Property="IsMouseOver" Value="True"><Setter TargetName="bd" Property="BorderBrush" Value="{DynamicResource AccentHoverBrush}"/></Trigger>
 <Trigger Property="IsEnabled" Value="False"><Setter TargetName="bd" Property="Opacity" Value="0.55"/></Trigger>
 </ControlTemplate.Triggers>
 </ControlTemplate>
 </Setter.Value>
 </Setter>
 </Style>

 <!-- Re-introduced: small numeric textbox style used in PrintPreviewView -->
 <Style x:Key="SmallNumericTextBoxStyle" TargetType="TextBox" BasedOn="{StaticResource FormTextBox}">
 <Setter Property="Width" Value="60"/>
 <Setter Property="HorizontalContentAlignment" Value="Center"/>
 </Style>

 <Style x:Key="FormComboBox" TargetType="ComboBox">
  <Setter Property="OverridesDefaultStyle" Value="True"/>
  <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}"/>
  <Setter Property="Background" Value="{DynamicResource FieldBackgroundBrush}"/>
  <Setter Property="BorderBrush" Value="{DynamicResource FieldBorderBrush}"/>
  <Setter Property="BorderThickness" Value="1"/>
  <Setter Property="Padding" Value="4,2"/>
  <Setter Property="MinHeight" Value="34"/>
  <Setter Property="HorizontalContentAlignment" Value="Left"/>
  <Setter Property="VerticalContentAlignment" Value="Center"/>
  <Setter Property="Template">
   <Setter.Value>
    <ControlTemplate TargetType="ComboBox">
     <Grid SnapsToDevicePixels="True">
      <Border x:Name="Bd" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="4">
       <Grid>
        <Grid.ColumnDefinitions>
         <ColumnDefinition Width="*"/>
         <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>
        <TextBlock x:Name="DisplayText" Grid.Column="0" Margin="8,0,4,0" VerticalAlignment="Center" TextTrimming="CharacterEllipsis" Foreground="{DynamicResource TextPrimaryBrush}" HorizontalAlignment="Left">
         <TextBlock.Text>
          <PriorityBinding>
           <Binding Path="SelectedItem.Name" RelativeSource="{RelativeSource TemplatedParent}"/>
           <Binding Path="SelectedItem.Display" RelativeSource="{RelativeSource TemplatedParent}"/>
           <Binding Path="SelectedItem.DisplayName" RelativeSource="{RelativeSource TemplatedParent}"/>
           <Binding Path="SelectedItem" RelativeSource="{RelativeSource TemplatedParent}"/>
          </PriorityBinding>
         </TextBlock.Text>
        </TextBlock>
        <TextBlock x:Name="Arrow" Grid.Column="1" FontFamily="Segoe MDL2 Assets" Text="&#xE70D;" FontSize="12" HorizontalAlignment="Right" VerticalAlignment="Center" Foreground="{DynamicResource TextPrimaryBrush}" Margin="0,0,8,0"/>
       </Grid>
      </Border>
      <!-- Overlay toggle to capture full area clicks -->
      <ToggleButton x:Name="DropDownToggle" Background="Transparent" BorderBrush="Transparent" BorderThickness="0" Focusable="False" ClickMode="Press"
                    IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Cursor="Hand" OverridesDefaultStyle="True">
       <ToggleButton.Template>
        <ControlTemplate TargetType="ToggleButton"><Border Background="Transparent"/></ControlTemplate>
       </ToggleButton.Template>
      </ToggleButton>
      <Popup x:Name="PART_Popup" Placement="Bottom" IsOpen="{TemplateBinding IsDropDownOpen}" AllowsTransparency="True" Focusable="False" PopupAnimation="Slide">
       <Border Background="{DynamicResource SurfaceBrush}" BorderBrush="{DynamicResource FieldBorderBrush}" BorderThickness="1" CornerRadius="4" MinWidth="{TemplateBinding ActualWidth}" Padding="0">
        <ScrollViewer MaxHeight="260" CanContentScroll="True" SnapsToDevicePixels="True">
         <StackPanel IsItemsHost="True"/>
        </ScrollViewer>
       </Border>
      </Popup>
     </Grid>
     <ControlTemplate.Triggers>
      <Trigger Property="IsMouseOver" Value="True">
       <Setter TargetName="Bd" Property="BorderBrush" Value="{DynamicResource AccentHoverBrush}"/>
      </Trigger>
      <Trigger Property="IsKeyboardFocusWithin" Value="True"><Setter TargetName="Bd" Property="BorderBrush" Value="{DynamicResource AccentBrush}"/></Trigger>
      <Trigger Property="IsDropDownOpen" Value="True"><Setter TargetName="Bd" Property="BorderBrush" Value="{DynamicResource AccentBrush}"/></Trigger>
      <Trigger Property="IsEnabled" Value="False"><Setter TargetName="Bd" Property="Opacity" Value="0.55"/></Trigger>
     </ControlTemplate.Triggers>
    </ControlTemplate>
   </Setter.Value>
  </Setter>
 </Style>

 <!-- ComboBoxItem: hover only changes border, not background -->
 <Style TargetType="ComboBoxItem">
 <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}"/>
 <Setter Property="Padding" Value="8,4"/>
 <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
 <Setter Property="VerticalContentAlignment" Value="Center"/>
 <Setter Property="Template">
 <Setter.Value>
 <ControlTemplate TargetType="ComboBoxItem">
 <Border x:Name="bd" Background="Transparent" BorderBrush="Transparent" BorderThickness="1" CornerRadius="3" SnapsToDevicePixels="True">
 <ContentPresenter Margin="{TemplateBinding Padding}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
 </Border>
 <ControlTemplate.Triggers>
 <Trigger Property="IsMouseOver" Value="True">
 <Setter TargetName="bd" Property="BorderBrush" Value="{DynamicResource AccentHoverBrush}"/>
 </Trigger>
 <Trigger Property="IsSelected" Value="True">
 <Setter TargetName="bd" Property="BorderBrush" Value="{DynamicResource AccentBrush}"/>
 <Setter TargetName="bd" Property="Background" Value="Transparent"/>
 <Setter Property="FontWeight" Value="SemiBold"/>
 </Trigger>
 <Trigger Property="IsEnabled" Value="False">
 <Setter TargetName="bd" Property="Opacity" Value="0.55"/>
 </Trigger>
 </ControlTemplate.Triggers>
 </ControlTemplate>
 </Setter.Value>
 </Setter>
 </Style>
 <Style x:Key="AppCheckBox" TargetType="CheckBox">
  <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}"/>
  <Setter Property="FontSize" Value="13"/>
  <Setter Property="Padding" Value="0"/>
  <Setter Property="HorizontalAlignment" Value="Left"/>
  <Setter Property="VerticalAlignment" Value="Center"/>
  <Setter Property="Template">
   <Setter.Value>
    <ControlTemplate TargetType="CheckBox">
     <Grid x:Name="Root" Margin="0" VerticalAlignment="Center">
      <Grid.ColumnDefinitions>
       <ColumnDefinition Width="18"/>
       <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>
      <Border x:Name="Box" Width="16" Height="16" CornerRadius="3" BorderThickness="1" Background="{DynamicResource FieldBackgroundBrush}" BorderBrush="{DynamicResource FieldBorderBrush}"/>
      <ContentPresenter Grid.Column="1" Margin="8,0,0,0" VerticalAlignment="Center" RecognizesAccessKey="True"/>
      <!-- Centered checkmark: adjusted coordinates and slight translate to optical center -->
      <Path x:Name="CheckMark" Grid.Column="0" Data="M3,9 L7,13 L13,4" StrokeThickness="2" Stroke="{DynamicResource AccentBrush}" StrokeEndLineCap="Round" StrokeStartLineCap="Round" StrokeLineJoin="Round" Visibility="Collapsed" HorizontalAlignment="Center" VerticalAlignment="Center" SnapsToDevicePixels="True">
       <Path.RenderTransform>
        <TranslateTransform X="0" Y="-0.5"/>
       </Path.RenderTransform>
      </Path>
     </Grid>
     <ControlTemplate.Triggers>
      <Trigger Property="IsMouseOver" Value="True">
       <Setter TargetName="Box" Property="BorderBrush" Value="{DynamicResource AccentHoverBrush}"/>
      </Trigger>
      <Trigger Property="IsChecked" Value="True">
       <Setter TargetName="Box" Property="Background" Value="{DynamicResource AccentBrush}"/>
       <Setter TargetName="Box" Property="BorderBrush" Value="{DynamicResource AccentBrush}"/>
       <Setter TargetName="CheckMark" Property="Visibility" Value="Visible"/>
       <Setter TargetName="CheckMark" Property="Stroke" Value="{DynamicResource SurfaceBrush}"/>
      </Trigger>
      <Trigger Property="IsEnabled" Value="False">
       <Setter TargetName="Root" Property="Opacity" Value="0.55"/>
      </Trigger>
      <Trigger Property="IsKeyboardFocused" Value="True">
       <Setter TargetName="Box" Property="BorderBrush" Value="{DynamicResource AccentBrush}"/>
      </Trigger>
      <Trigger Property="IsChecked" Value="{x:Null}">
       <Setter TargetName="Box" Property="Background" Value="{DynamicResource AccentHoverBrush}"/>
       <Setter TargetName="CheckMark" Property="Visibility" Value="Visible"/>
       <Setter TargetName="CheckMark" Property="Data" Value="M3,8 L13,8"/>
       <Setter TargetName="CheckMark" Property="Stroke" Value="{DynamicResource SurfaceBrush}"/>
      </Trigger>
     </ControlTemplate.Triggers>
    </ControlTemplate>
   </Setter.Value>
  </Setter>
 </Style>

 <Style x:Key="AppRadioButton" TargetType="RadioButton">
  <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}"/>
  <Setter Property="FontSize" Value="13"/>
  <Setter Property="Padding" Value="0"/>
  <Setter Property="HorizontalAlignment" Value="Left"/>
  <Setter Property="VerticalAlignment" Value="Center"/>
  <Setter Property="Template">
   <Setter.Value>
    <ControlTemplate TargetType="RadioButton">
     <Grid x:Name="Root" Margin="0" VerticalAlignment="Center">
      <Grid.ColumnDefinitions>
       <ColumnDefinition Width="18"/>
       <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>
      <Border x:Name="Outer" Width="16" Height="16" CornerRadius="8" BorderThickness="1" Background="{DynamicResource FieldBackgroundBrush}" BorderBrush="{DynamicResource FieldBorderBrush}"/>
      <Ellipse x:Name="Dot" Width="8" Height="8" Fill="{DynamicResource AccentBrush}" Visibility="Collapsed" HorizontalAlignment="Center" VerticalAlignment="Center"/>
      <ContentPresenter Grid.Column="1" Margin="8,0,0,0" VerticalAlignment="Center" RecognizesAccessKey="True"/>
     </Grid>
     <ControlTemplate.Triggers>
      <Trigger Property="IsMouseOver" Value="True">
       <Setter TargetName="Outer" Property="BorderBrush" Value="{DynamicResource AccentHoverBrush}"/>
      </Trigger>
      <Trigger Property="IsChecked" Value="True">
       <Setter TargetName="Outer" Property="BorderBrush" Value="{DynamicResource AccentBrush}"/>
       <Setter TargetName="Dot" Property="Visibility" Value="Visible"/>
      </Trigger>
      <Trigger Property="IsEnabled" Value="False">
       <Setter TargetName="Root" Property="Opacity" Value="0.55"/>
      </Trigger>
      <Trigger Property="IsKeyboardFocused" Value="True">
       <Setter TargetName="Outer" Property="BorderBrush" Value="{DynamicResource AccentBrush}"/>
      </Trigger>
     </ControlTemplate.Triggers>
    </ControlTemplate>
   </Setter.Value>
  </Setter>
 </Style>
 <Style TargetType="CheckBox" BasedOn="{StaticResource AppCheckBox}"/>
 <Style TargetType="RadioButton" BasedOn="{StaticResource AppRadioButton}"/>
</ResourceDictionary>